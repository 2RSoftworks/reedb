<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Reedb::Vault
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Reedb/Vault.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (V)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Reedb.html" title="Reedb (module)">Reedb</a></span></span>
     &raquo; 
    <span class="title">Vault</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Reedb::Vault
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="../Reedb.html" title="Reedb (module)">Reedb</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/reedb.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Vault submodule of the Interface stack</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../Reedb.html" title="Reedb (module)">Reedb</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Reedb.html#DAEMON_INACTIVE_VAULT_ERROR-constant" title="Reedb::DAEMON_INACTIVE_VAULT_ERROR (constant)">DAEMON_INACTIVE_VAULT_ERROR</a></span>, <span class='object_link'><a href="../Reedb.html#DAEMON_UNAUTHORISED_TOKEN_ERROR-constant" title="Reedb::DAEMON_UNAUTHORISED_TOKEN_ERROR (constant)">DAEMON_UNAUTHORISED_TOKEN_ERROR</a></span>, <span class='object_link'><a href="../Reedb.html#DAEMON_UNKNOWN_TOKEN_ERROR-constant" title="Reedb::DAEMON_UNKNOWN_TOKEN_ERROR (constant)">DAEMON_UNKNOWN_TOKEN_ERROR</a></span>, <span class='object_link'><a href="../Reedb.html#DEF_MASTER_PATH-constant" title="Reedb::DEF_MASTER_PATH (constant)">DEF_MASTER_PATH</a></span>, <span class='object_link'><a href="../Reedb.html#FILE_CACHE_TIME-constant" title="Reedb::FILE_CACHE_TIME (constant)">FILE_CACHE_TIME</a></span>, <span class='object_link'><a href="../Reedb.html#FILE_MALFORMED_DATA_ERROR-constant" title="Reedb::FILE_MALFORMED_DATA_ERROR (constant)">FILE_MALFORMED_DATA_ERROR</a></span>, <span class='object_link'><a href="../Reedb.html#KEY_CACHE_TIME-constant" title="Reedb::KEY_CACHE_TIME (constant)">KEY_CACHE_TIME</a></span>, <span class='object_link'><a href="../Reedb.html#NET_PORT-constant" title="Reedb::NET_PORT (constant)">NET_PORT</a></span>, <span class='object_link'><a href="../Reedb.html#TOKEN_BYTE_SIZE-constant" title="Reedb::TOKEN_BYTE_SIZE (constant)">TOKEN_BYTE_SIZE</a></span>, <span class='object_link'><a href="../Reedb.html#VAULT_FILE_NOT_FOUND_ERROR-constant" title="Reedb::VAULT_FILE_NOT_FOUND_ERROR (constant)">VAULT_FILE_NOT_FOUND_ERROR</a></span>, <span class='object_link'><a href="../Reedb.html#VERSION-constant" title="Reedb::VERSION (constant)">VERSION</a></span></p>





  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#access_file-class_method" title="access_file (class method)">+ (Object) <strong>access_file</strong>(uuid, token, file_name, history = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access file contents with a file ID in a vault that a token has already
been authenticated on.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#access_headers-class_method" title="access_headers (class method)">+ (Object) <strong>access_headers</strong>(uuid, token, search = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List headers from a vault with a search qeury (nil by default).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#access_vault-class_method" title="access_vault (class method)">+ (Object) <strong>access_vault</strong>(uuid, passphrase) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>!!! NOT IMPLEMENTED YET !!!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#available_vaults-class_method" title="available_vaults (class method)">+ (Object) <strong>available_vaults</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a list of all vaults tracked by Reedb (by the current user).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#close_vault-class_method" title="close_vault (class method)">+ (Object) <strong>close_vault</strong>(uuid, token) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Closes a vault to end the file transaction between you and the vault.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_vault-class_method" title="create_vault (class method)">+ (Object) <strong>create_vault</strong>(name, path, passphrase, encryption = :auto) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new vault on the current system.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert-class_method" title="insert (class method)">+ (Object) <strong>insert</strong>(uuid, token, file_name, data) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access file contents with a file ID in a vault that a token has already
been authenticated on.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove-class_method" title="remove (class method)">+ (Object) <strong>remove</strong>(uuid, token, file_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Removes a file from a vault that a token was authorised to access.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_vault-class_method" title="remove_vault (class method)">+ (Object) <strong>remove_vault</strong>(uuid, passphrase, token) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Removes a vault from the file system.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scope_vault-class_method" title="scope_vault (class method)">+ (Object) <strong>scope_vault</strong>(name, path) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a new vault to the tracking scope of this Reedb daemon.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unscope_vault-class_method" title="unscope_vault (class method)">+ (Object) <strong>unscope_vault</strong>(uuid) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Removes a vault from the application scope with a uuid.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Reedb.html" title="Reedb (module)">Reedb</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Reedb.html#archos-class_method" title="Reedb.archos (method)">archos</a></span>, <span class='object_link'><a href="../Reedb.html#daemon%3F-class_method" title="Reedb.daemon? (method)">daemon?</a></span>, <span class='object_link'><a href="../Reedb.html#included-class_method" title="Reedb.included (method)">included</a></span>, <span class='object_link'><a href="../Reedb.html#passlength-class_method" title="Reedb.passlength (method)">passlength</a></span>, <span class='object_link'><a href="../Reedb.html#verbose%3F-class_method" title="Reedb.verbose? (method)">verbose?</a></span></p>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="access_file-class_method">
  
    + (<tt>Object</tt>) <strong>access_file</strong>(uuid, token, file_name, history = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Access file contents with a file ID in a vault that a token has already
been authenticated on.</p>

<p>Depending on the history flag (false by default) the history or only
current dataset will be returned.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uuid</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>UUID of a vault (as an ID)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Authentication token for access</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>file_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>File identifier</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>history</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>history idenfitier</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../VaultNotAvailableError.html" title="VaultNotAvailableError (class)">VaultNotAvailableError</a></span>.new</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


566
567
568
569
570
571
572
573
574</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 566</span>

<span class='kw'>def</span> <span class='id identifier rubyid_access_file'>access_file</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_file_name'>file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_history'>history</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_delete!'>delete!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultNotAvailableError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The vault you have requested data from is not currently active on this system.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnknownTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided is unknown to this system. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnautherisedTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided currently has no access to the desired vault. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_read_file'>read_file</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_history'>history</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="access_headers-class_method">
  
    + (<tt>Object</tt>) <strong>access_headers</strong>(uuid, token, search = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List headers from a vault with a search qeury (nil by default). Can only be
used with a token on vaults that authentication has been successful before.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uuid</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>UUID of a vault (as an ID)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Authentication token for access</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>search</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Search qeury as described in the wiki</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../VaultNotAvailableError.html" title="VaultNotAvailableError (class)">VaultNotAvailableError</a></span>.new</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


541
542
543
544
545
546
547
548
549
550
551</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 541</span>

<span class='kw'>def</span> <span class='id identifier rubyid_access_headers'>access_headers</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_search'>search</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_delete!'>delete!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultNotAvailableError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The vault you have requested data from is not currently active on this system.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnknownTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided is unknown to this system. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnautherisedTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided currently has no access to the desired vault. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>


	<span class='kw'>return</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_list_headers'>list_headers</span><span class='lparen'>(</span><span class='id identifier rubyid_search'>search</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="access_vault-class_method">
  
    + (<tt>Object</tt>) <strong>access_vault</strong>(uuid, passphrase) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>!!! NOT IMPLEMENTED YET !!!</p>

<p>ONLY PERMITTED WHEN IN NO_TOKEN MODE! Loads a vault with a UUID and
passphrase into the current vault set. Ignores the token set (as not
applicable when in token mode) and simply returns a confirmation that vault
access was granted.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../FunctionNotImplementedError.html" title="FunctionNotImplementedError (class)">FunctionNotImplementedError</a></span>.new</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


439
440
441
442</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 439</span>

<span class='kw'>def</span> <span class='id identifier rubyid_access_vault'>access_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_passphrase'>passphrase</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>FunctionNotImplementedError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This has not been implemented yet! Use token authentication via the DAEMON module.</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>return</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="available_vaults-class_method">
  
    + (<tt>Object</tt>) <strong>available_vaults</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a list of all vaults tracked by Reedb (by the current user). Vaults
are ordered in a dictionary under their UUID that&#39;s used by the Reedb
daemon.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376
377
378
379
380
381
382
383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_available_vaults'>available_vaults</span>
	<span class='id identifier rubyid_available'>available</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

	<span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
		<span class='comment'># puts @@config[:vaults][&quot;#{uuid}&quot;]
</span>		<span class='id identifier rubyid_available'>available</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
		<span class='id identifier rubyid_available'>available</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='lbracket'>[</span><span class='symbol'>:meta</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
		<span class='id identifier rubyid_available'>available</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='lbracket'>[</span><span class='symbol'>:meta</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
		<span class='id identifier rubyid_available'>available</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:size</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='lbracket'>[</span><span class='symbol'>:meta</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_available'>available</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="close_vault-class_method">
  
    + (<tt>Object</tt>) <strong>close_vault</strong>(uuid, token) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Closes a vault to end the file transaction between you and the vault. The
encryption key will be unloaded and scrubbed from memory which means you
will have to unlock a vault again  (which usually means more user
interaction).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uuid</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>UUID of a vault (as an ID)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Authentication token for access</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>nil</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../VaultNotAvailableError.html" title="VaultNotAvailableError (class)">VaultNotAvailableError</a></span>.new</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 643</span>

<span class='kw'>def</span> <span class='id identifier rubyid_close_vault'>close_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_delete!'>delete!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultNotAvailableError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The vault you have requested data from is not currently active on this system.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnknownTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided is unknown to this system. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnautherisedTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided currently has no access to the desired vault. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>

	<span class='const'>DaemonLogger</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Closing vault with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>debug</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

	<span class='comment'># Close the vault
</span>	<span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>

	<span class='comment'># Delete the vault from the active_vault record with UUID
</span>	<span class='cvar'>@@active_vaults</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

	<span class='comment'># TODO: Alert other applications
</span>	<span class='comment'># TODO: Don&#39;t delete the token if it is being used to access
</span>	<span class='comment'># 			other vaults on the system!
</span>	<span class='cvar'>@@tokens</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>

	<span class='comment'># Removes token from config
</span>	<span class='comment'># TODO: FIX ME?!
</span>	<span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:tokens</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_write_config'>write_config</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_vault-class_method">
  
    + (<tt>Object</tt>) <strong>create_vault</strong>(name, path, passphrase, encryption = :auto) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new vault on the current system. Returns nil if vault  already
existed at location. Returns a token if the creation and authentication was
successful on the user side.</p>

<p>Also adds that token to the @@tokens list.</p>

<p>! THROWS A LOT OF EXCEPTIONS !</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Name of the vault</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path of the vault</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>passphrase</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>User passphrase for decryption</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>encryption</span>
      
      
        <span class='type'>(<tt>enum</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:auto</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Encryption method (:aes, :twofish, :auto)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 402</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_vault'>create_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_passphrase'>passphrase</span><span class='comma'>,</span> <span class='id identifier rubyid_encryption'>encryption</span> <span class='op'>=</span> <span class='symbol'>:auto</span><span class='rparen'>)</span>
	<span class='comment'># Creates new UUIDs until one is found that doesn&#39;t already exist in the scope
</span>	<span class='id identifier rubyid_uuid'>uuid</span> <span class='op'>=</span> <span class='kw'>nil</span>
	<span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
		<span class='id identifier rubyid_uuid'>uuid</span> <span class='op'>=</span> <span class='const'>UUID</span><span class='op'>::</span><span class='id identifier rubyid_create_v1'>create_v1</span>
		<span class='lparen'>(</span><span class='kw'>break</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'># Create actual Vault object
</span>	<span class='comment'># This throws errors!
</span>	<span class='id identifier rubyid_tmp_vault'>tmp_vault</span> <span class='op'>=</span> <span class='const'>ReeVault</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_encryption'>encryption</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_passphrase'>passphrase</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

	<span class='comment'># Creates a metavault with name, path, size and uuid to be tracked on the system
</span>	<span class='comment'># metavault = MetaVault.new(&quot;#{name}&quot;, &quot;#{path}&quot;, 0, &quot;#{uuid}&quot;)
</span>
	<span class='comment'># Adds vault to the active set of vaults
</span>	<span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp_vault'>tmp_vault</span>

	<span class='comment'># Generates a token
</span>	<span class='kw'>unless</span> <span class='cvar'>@@no_token</span>
		<span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_token'>generate_token</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_track_vault'>track_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_delete!'>delete!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'># In case token authentication was disabled
</span>	<span class='id identifier rubyid_track_vault'>track_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert-class_method">
  
    + (<tt>Object</tt>) <strong>insert</strong>(uuid, token, file_name, data) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Access file contents with a file ID in a vault that a token has already
been authenticated on.</p>

<p>Inserts data into a vault. Depending on parameters and runtime settings
this function has different effects. It can be used to create a new file if
it doesn&#39;t already exists.</p>

<p>Please refer to the wiki for details on how to use this function as it (!
MAY !) have unwanted side-effects if it is used wrong!</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uuid</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>UUID of a vault (as an ID)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Authentication token for access</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>file_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>File identifier</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Data that should be written to the vault.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../VaultNotAvailableError.html" title="VaultNotAvailableError (class)">VaultNotAvailableError</a></span>.new</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


594
595
596
597
598
599
600
601
602
603
604
605
606</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 594</span>

<span class='kw'>def</span> <span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_file_name'>file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_delete!'>delete!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultNotAvailableError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The vault you wish to insert data to is not currently active on this system.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnknownTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided is unknown to this system. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnautherisedTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided currently has no access to the desired vault. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>

	<span class='const'>DaemonLogger</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Writing data to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>debug</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

	<span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove-class_method">
  
    + (<tt>Object</tt>) <strong>remove</strong>(uuid, token, file_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Removes a file from a vault that a token was authorised to access. File is
identified via an ID handle. This operation is dangerous as it can NOT be
reverted!</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uuid</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>UUID of a vault (as an ID)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Authentication token for access</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>file_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>File identifier</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>nil</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../VaultNotAvailableError.html" title="VaultNotAvailableError (class)">VaultNotAvailableError</a></span>.new</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


618
619
620
621
622
623
624
625
626
627
628
629
630</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 618</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove'>remove</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='comma'>,</span> <span class='id identifier rubyid_file_name'>file_name</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_delete!'>delete!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultNotAvailableError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The vault you wish to insert data to is not currently active on this system.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnknownTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided is unknown to this system. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnautherisedTokenError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The token you provided currently has no access to the desired vault. Access denied!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>

	<span class='const'>DaemonLogger</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Writing data to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>debug</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

	<span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_remove_file'>remove_file</span><span class='lparen'>(</span><span class='id identifier rubyid_file_name'>file_name</span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_vault-class_method">
  
    + (<tt>Object</tt>) <strong>remove_vault</strong>(uuid, passphrase, token) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Removes a vault from the file system. This requires special privileges  to
do via this interface to prevent deleting vaults without the users 
permission. Will also fire a user interrupt to alert them of this 
behaviour depending on platform.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uuid</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>UUID of a vault (as an ID)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>passphrase</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>User passphrase for decryption</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>token</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Authentication token for validation</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../FunctionNotImplementedError.html" title="FunctionNotImplementedError (class)">FunctionNotImplementedError</a></span>.new</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


455
456
457
458
459
460
461
462
463
464
465
466
467
468
469</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 455</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_vault'>remove_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='comma'>,</span> <span class='id identifier rubyid_passphrase'>passphrase</span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_delete!'>delete!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='comment'># Returns false if that token isn&#39;t authorised
</span>	<span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='cvar'>@@tokens</span><span class='lbracket'>[</span><span class='id identifier rubyid_token'>token</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>

	<span class='comment'># Return false if vault has never been scoped before
</span>	<span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>

	<span class='comment'># Return false if vault is currently locked
</span>	<span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_locked?'>locked?</span>
	 
	<span class='comment'># Mark a vault for removal and only actually
</span>	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>FunctionNotImplementedError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This has not been implemented yet! Don&#39;t do this.</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>return</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scope_vault-class_method">
  
    + (<tt>Object</tt>) <strong>scope_vault</strong>(name, path) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a new vault to the tracking scope of this Reedb daemon.  Does not
grant access or generate a new token for application interaction. On a new
install usually called just before requesting a token</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Name of the vault</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path of the vault</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 480</span>

<span class='kw'>def</span> <span class='id identifier rubyid_scope_vault'>scope_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
	<span class='comment'># Checks if that specific vault was already scoped
</span>	<span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='lbracket'>[</span><span class='symbol'>:meta</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='lbracket'>[</span><span class='symbol'>:meta</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
			<span class='const'>DaemonLogger</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vault already scoped at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>info</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
			<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultAlreadyScopedError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vault </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> already scoped!</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>return</span> <span class='kw'>false</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	<span class='id identifier rubyid_vault'>vault</span> <span class='op'>=</span> <span class='const'>ReeVault</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:auto</span><span class='rparen'>)</span>
	<span class='comment'># If it hasn&#39;t, proceed here
</span>	<span class='kw'>if</span> <span class='id identifier rubyid_vault'>vault</span><span class='period'>.</span><span class='id identifier rubyid_try?'>try?</span>
		<span class='id identifier rubyid_uuid'>uuid</span> <span class='op'>=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
			<span class='id identifier rubyid_uuid'>uuid</span> <span class='op'>=</span> <span class='const'>UUID</span><span class='op'>::</span><span class='id identifier rubyid_create_v1'>create_v1</span>
			<span class='lparen'>(</span><span class='kw'>break</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>
		<span class='kw'>end</span>

		<span class='comment'># At this point a vault has been confirmed and a UUID generated
</span>		<span class='id identifier rubyid_track_vault'>track_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_vault'>vault</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
		<span class='const'>DaemonLogger</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vault successfully scoped at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>info</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_cache_config'>cache_config</span>
		<span class='kw'>return</span> <span class='kw'>true</span>
	<span class='kw'>else</span>
		<span class='const'>DaemonLogger</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tried to scope empty target at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>warn</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultDoesNotExistError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tried to scope empty target at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>return</span> <span class='kw'>false</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unscope_vault-class_method">
  
    + (<tt>Object</tt>) <strong>unscope_vault</strong>(uuid) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Removes a vault from the application scope with a uuid. Closes the vault
from the active vault set.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uuid</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>UUID of a vault (as an ID)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


518
519
520
521
522
523
524
525
526
527
528
529</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/reedb.rb', line 518</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unscope_vault'>unscope_vault</span><span class='lparen'>(</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>
	<span class='kw'>unless</span> <span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>VaultNotScopedError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vault </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> not scoped!</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>return</span> <span class='id identifier rubyid_nilp'>nilp</span>
	<span class='kw'>end</span>

	<span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span>
	<span class='const'>DaemonLogger</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unscoping vault </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_content'> at </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span> <span class='kw'>if</span> <span class='cvar'>@@active_vaults</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
	<span class='cvar'>@@config</span><span class='lbracket'>[</span><span class='symbol'>:vaults</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_cache_config'>cache_config</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun May 17 23:17:07 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.5).
</div>

  </body>
</html>